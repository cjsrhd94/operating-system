## 3.운영체제 구조 - 시스템콜, 사용자 모드와 커널 모드
### 응용프로그램, 운영체제, 컴퓨터 하드웨어 관계
- 운영체제는 응용 프로그램이 요청하는 메모리를 허가하고 분배한다.
- 운영체제는 응용 프로그램이 요청하는 CPU 시간을 제공한다.
- 운영체제는 응용 프로그래밍 요청하는 I/O Devices 사용을 허가/제어한다.
### 운영체제의 사용자 인터페이스 제공
- 쉘: 사용자가 운영체제 기능과 서비스를 조작할 수 있도록 인터페이스를 제공하는 프로그램.
### 운영체제의 응용 프로그램 인터페이스 제공
- **시스템 콜(=시스템 호출 인터페이스):** 운영 체제의 커널이 제공하는 서비스에 대해, 응용 프로그램의 요청에 따라 커널에 접근하기 위한 인터페이스. API가 시스템콜을 호출하는 형태로 사용된다.
- **API:** 응용 프로그램에서 운영 체제나 프로그래밍 언어가 제공하는 기능을 제어할 수 있게 만든 인터페이스.
### 사용자 모드와 커널 모드
![사용자 모드와 커널모드](imgPUProtectionRings.png)
- 사용자 모드: 응용프로그램이 사용한다.
- **커널 모드:** 특권 명령어 실행과 원하는 작업 수행을 위한 자원 접근을 가능하게 하는 모드. OS가 사용한다.
- 사용자 모드와 커널 모드로 분리해둔 이유는 응용프로그램이 컴퓨터 전체 시스템을 해치는 못하게 하기 위해서 이다.
- 우리가 만든 프로그램은 Level 3에서 실행되며 사용자 모드이다. 
- 운영체제 기능을 사용하기 위해 Level 0인 **커널에 접근하려면 해당하는 API를 작성하고 호출** 하면 된다.
- 그러면 시스템콜이 호출되어 커널모드로 변경되고, OS내부에서 해당 명령이 실행되고 나면 다시 사용자 모드로 돌아온다.
